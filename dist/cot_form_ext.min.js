"use strict";cot_form.prototype.addformfield=function(n){return function(e,r){n.call(this,e,r),!0===e.readOnly&&$(":input",$(r)).prop("readonly",!0)}}(cot_form.prototype.addformfield),cot_form.prototype.validatorOptions=function(n){return function(e){var r=n.call(this,e);return null!=e.excluded&&(r.excluded=e.excluded),r}}(cot_form.prototype.validatorOptions),CotForm.prototype.render=function(v){return function(){var h=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};null!=e.model&&this.setModel(e.model),null!=e.view&&this.setView(e.view);for(var r=[],n=this._definition.sections,t=0,o=n.length;t<o;t++){var i=n[t];"string"==typeof i.preRender&&(i.preRender=Function("return ".concat(i.preRender))()),"function"==typeof i.preRender&&r.push(i.preRender(i,this._definition,this._model,this._view));for(var d=i.rows,p=0,c=d.length;p<c;p++){var f=d[p];"string"==typeof f.preRender&&(f.preRender=Function("return ".concat(f.preRender))()),"function"==typeof f.preRender&&r.push(f.preRender(f,i,this._definition,this._model,this._view));for(var u=f.fields,l=0,s=u.length;l<s;l++){var a=u[l];if(null!=a.choices&&null!=a.bindTo&&"checkbox"!=a.type){var R=this._model.get(a.bindTo);null!=R&&-1===a.choices.map(function(e){return e.value||e.text}).indexOf(R)&&a.choices.unshift({text:R})}"string"==typeof a.preRender&&(a.preRender=Function("return ".concat(a.preRender))()),"function"==typeof a.preRender&&r.push(a.preRender(a,f,i,this._definition,this._model,this._view))}}}return Promise.all(r).then(function(){return v.call(h,e)}).then(function(){for(var e=[],r=h._definition.sections,n=0,t=r.length;n<t;n++){var o=r[n];"string"==typeof o.preRender&&(o.preRender=Function("return ".concat(o.preRender))()),"function"==typeof o.preRender&&e.push(o.preRender(o,h._definition,h._model,h._view));for(var i=o.rows,d=0,p=i.length;d<p;d++){var c=i[d];"string"==typeof c.preRender&&(c.preRender=Function("return ".concat(c.preRender))()),"function"==typeof c.preRender&&e.push(c.preRender(c,o,h._definition,h._model,h._view));for(var f=c.fields,u=0,l=f.length;u<l;u++){var s=f[u];"string"==typeof s.preRender&&(s.preRender=Function("return ".concat(s.preRender))()),"function"==typeof s.preRender&&e.push(s.preRender(s,c,o,h._definition,h._model,h._view))}}}return Promise.all(e)})}}(CotForm.prototype.render),CotForm.prototype.setView=function(e){this._view=e};
//# sourceMappingURL=cot_form_ext.min.js.map
